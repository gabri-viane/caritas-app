(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/database-icon-adv.28ed3233.png"},102:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAhQAAAIUB4uz/wQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJVSURBVEiJldbNi05xFAfwj6cGC2WGyeAZs2DYKWWHErFiZqOIlYVskLcN2fAXYIuixM40QyyYvBV5SV6ysUB5ywyTEMp4W/zO5ZlnfvfBt27Pc8/5nu/53XvO7/zuGI3RgW6swExUw/4CT3EWp/GsTGBMib0de7EeP3AFD/Ey/FXMxeK4P4Z9kfiv6MYHvMF2NDfgtmAH3kZM19/Et+A7ejDxX1YTaEZvxG4pI3UH4QAq/yFeoIKDoTHqSdqlR+wpEa9iT/h74v/0kiR9oVWtdRyR3nnutazDJ3zEhbg+hm1tht+CIRwuDB34JhW0HkvDdwqtNfbWeJJvWJKJ24lhzCAV5at8t9yJqynja8Jd3M74JkWCzXAO/RlSFT+xOuMrsCY4uXpcxNkKOvEgQ2iL36cNEhS+tozvPjormIZXGUKxa2c2SDCrjluLV5hWtGRuZAzgBnZjbMY/FrtwDYMZ/2/NR9hfssJFUrF6MaXG3ib1+zAWlsQeCG3ncL6EBKtC6BMu4TI+h21Vg7h+adraLLXppAxpHm5JnTKAq3ENhu1mcOrRGgvYRNpow0ZvtCX4gntYZmSdKlgudcoXozfbiI1G2tZDmBz3nXHfh3GZFRYYjzPSuC46qhXvcKiWWD/sTuIxJjQQLzABT3AiYnvxXt2wI43Y7zgu1WTDP4gX2Bgxx0NjZRmxOHB+YvZ/JJgTMQ0PnAJd0usaxFaNj8xmbAvue5mVlx36VX8O/WFcl6bq6/BPxXwskKbqUenQHzUyyhIUmGHkZ0t72F9IhS0+W56XCfwCS9qT7mIuXAYAAAAASUVORK5CYII="},103:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAZJJREFUSIm1lc1KAzEUhb/W2i50BKfiQrfqVvsAioh9gmL3gqggPoE+he70Deo7tLZQwf+VWroR3ClVpO1+XOSGDtOZNA144JLM5NxzMkluBuIxARwCVeAX6AANeZdJyLHGPPAEBAlxAyy4imeBexH6AEqAB+Sl35KxJo5fshcS92PG80BbOPsuBk1JLhk4ZeE0XAw6kuwZOL5wvmwE05HnnLRZQ04g7aSLwYu0m4acbWkfbQyiOEbNsIXa0Ch84F04BzHjdYlE5IBnEWijNnQWmAN2QuJ3qGKMQteKEYshk7i4FcM4WBmA2uQjVNV2GVwVuwwfgLphMjUbs1H4d4MwhpYoekw1isAl6jT1Jd6ACwbH1AkrmD9ZxzWwHJNfw7AsG8CPCHwCJ8AaMCVRAE5lLAC+gfVxZq7FK5jvIg+4Cpks2RjoZakAKQt+KmRSHUUuMlgW08yjmEHdqAGwlURKo64DgDOgN4ZBFziXftlE1L/B1THENQqS+2oi9YQ07WDgSW43iZABHqTfdzDooWoiEX8FvYWTbjS+6gAAAABJRU5ErkJggg=="},104:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3/OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEoSURBVEiJ3dUxSgNBGAXgb8WUMQjxAvZWuYAgSLrU1qkDaew9gbdI4QHSCF4gVUC0NFUqG/ugY/MCKhtThA3owCv2/W/e253Z+acqpWhyHDTq/i8CDrcJqqpq4QJnOA39gkc8lFJWvxqUUmqBDm7xihK8B+vn12g6G302mA+wjMk9rnGOdnAe7j6aJQZbA9DFXSY94zJ8G2NMgjHaqV1GWzK3WxuAEzxFeINW+B4W4d+CEq4XTStzSjxOvgXgGHN8YPQltB2jJfqogn64xfpLoh/FY47j9SE+wiybN/yxZOO8Vb9mn/qpjX/ww3jN4m2KFa5qTCZZkqqmVqU2qaldxXPa+EGj6SVqfJP38pvu5aDtpVU00eyqbVfmru16a8Cu4+9fmY0HfAImnOC+tpx3WgAAAABJRU5ErkJggg=="},106:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAchJREFUSImt1k2LE0EQBuAnWcQPvHlyowazIHrxIl496UUQUTCLiH9AxSCe9J/oRUSiCIugsDdBgv9AEL35eVcjyH64iYeu2QQzybTrvtA0U/NWdXVN19tTMxsHcAWncBz7MMAXfMAynuNrRZwJHMRj/MawYqzjPuZzgy/iZzivohu2FnZgFxbQxpPgDNHHuargt8YyW5JKVIVmcIfYwI1pxMtSfTfQyQj8N26O+U/spInvkcVWghfoRIwf2D/+4qFRWf4XRbnuFYZD0mlZlU7PLPRizEITK9LpasDtWLGbkV1xAKrwNHjX6jgdxhcZjrl4FvNZ+ByrtTIcc3fQCt47+BUPO0uIPdWd/LrEb0+869cxF8ZaRmZlKNvR3Pj8MUgLmcFySnQ0eJ/qeB/GExmOuTgZ85s6XsbDhW1c4HzMPVJzrUuN1qxwfBVjFo5gLWJuykXX9khFTeqnoSQ/m2hIAjWUVHGruGt0N0xIfVuS24F/V9Qa7khSPcDFacROEIpyVX0TUs2LsgxwvcqhbVSuFUm4FnEYu7EXx3A1klgL7jdcykgI6QJ/NOZcdek/MEXqq+ShETs6I3XnvKRdfbyVemhJ+o0pxR9pGJIKkreR6QAAAABJRU5ErkJggg=="},107:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGpSURBVEiJtZXPThNRFIe/c0MbkpYxbkpY8A5sobLQRl3A3lBDwiOQWAyJGxfoQuQB2LADXqDdQWYBwQfAuMGEJVBsItOiZqbDcUGgf5xxbml7Vvfe/M73zUnm5gox5S3MriC6BqQ7zk/CjpwIpDJSyblH81EcEwkv5kuIfuqGR5Uq+A2du3g2s2cl8Ir5Esh6Eri7groWoiQdgofC/ye5F/QLj5MYW3jzxSt+b7p4ZZfg/UdrifEWZldsvlwzY62N4yTFCepaqD6dKRtEPySmAWl4rc2VFx9sl1zrnAFSvQrkZ81KoBpzDyKrcdUS1OwE0INArtsmuKwOQ9A2QXUIAhr11vrsbPAC+VVHguB2/ePCWjBindQb0hvLZGUSms0hCABz+g1zctxLCwYIrJLpUfylVf5s7aCPHlu1iIBB5Z1NOJzKE06/xM9NEBYXrQSpjFSMs3uwjlBKCpvvX5HaOUZDjLufDM+yl3OP5uXuwHv95A3K56TG7iczDj7ufnkObb+ps324YTNJL/AOwSAk3fB/BP1IouCRgnuJylvATwKLQDorlSg4wF+uYapLmyzFKAAAAABJRU5ErkJggg=="},108:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAACoAAAAqAF59LPGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAPNQTFRF////M8xmEK9wLrmAFKNmIrN3Ha50MLp6M7t6GKlzM7l9FKdxMrt8Mrl8KbR5F6hyH612FqdxMrp9MLl8F6pzGKhzFKdyMrp8Mrp8EaVwEqZxMrp8DaJvDKFuDaJvCqBuC6BuDKFuDKFvDaJvD6NwFqhyGKlzG6t0Hap4Lbd6L7d7Mbp8Mrp8NLt9NLt+Nbt+ScKKScKLSsKLTcONT8SOWceVWseVXciXXcmYbMaodsqukNq4m9vBpNzJq+PJr+TMseHRu+jUyOzcye3d1PHk3fLr4/bt5Pbu5/fw8fr28vv38/v39fv59vz5+v38/v//////8xfd9QAAAB90Uk5TAAUQFhkeLDBLX2pxf4CPk5WXsrW/v8rQ5uz5+vv8/b8p6lgAAADzSURBVCiRZdJrQ4IwFAbgERlIsxQtUKqjea+VWZZ2Vcs7afv/v6YBG2x4vvG8cDbOhlBUuolt17WxqSO5tJxHeHlYS9xwiFSOIdzyiFKexd9POUvCbzRH1bugW7BOTuHeePt1Twhm+1Qa9aaU0g/WTEfmntN5mxAT4QCe3geJ01do3WJkM3heU38U+xsANIvIZcGMPfpDyQEqYfAdwOZHcrgKWz0sqCjuUI4W7y9TDud8u/2V6lAQP/i4Y/4Z+/VRPJKX379J7FCShnjTSfziQB57tyG8eqwelEhq+fTRRslldv8ysKR+dqjcE359Tk4zHP4BVJVP82YizokAAAAASUVORK5CYII="},109:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAhQAAAIUB4uz/wQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJgSURBVEiJtZVNSFRRGIafc64zo5N/TZE5o/ZDWRGly0IlqBYtWggSJNKulbqIokUuIlzYKhKKdi6qjYgO0taF4M8QFElBP1AZKYibmh+1O4535msxjhbj3Llj9q7uPed73+ece+79LvxnKSdFIqhYqLpDhFY95zojbnlR3jbfrRSpHQGEp/Y/UqhuAP3JnTaWpt6WXZ1vzOfV+Qoi01XnM+F/SpZ1Q2w4cPOfADKEgaiHACLw8vNeBt7VkMo8mBWjT4ZqSuwyiuwmYwF/FyKnAUZf1fFk7BjmSozv0WJ6W77AmvJEvTwDrhS8g2ioxicidzP3HxcqNuY+/PBuBiwbbfFgoL5ggKSSfcCezZEc70MSlVjVwYIA4elAI3A9lylLv/TJ8EjgmmOAItUPGI4BAoZpPBbJzssaiE762xHOOQ7PKK7KY8G6flvAwmu/V5TcLzg8oyU6F4NV+3ICvKb0AAe2m68sZZRY7uEtAZHJqsMobm03fENLuiUy6r+YBUDrB0BxLp+vNL5xXeFJ5sxXAnrFePoXIDIRuIDQarew9qZvXGpY4MBui3tNX+13YWp/ZKS2Jw0cpyjq8r8BOWXvWl/RejfNK5eslvksn465/Z1OwhOWZjB0kNvj9SwnbFtYWmvKEzX1cy1IViveSoOhQwyMH2V6fhc9E0ecWNCmvqwRap0Um4nNDzuezPsbSctS7iKQGVBn89V2NM+SsDQz7730Nuc55Iw8ElM/p6pbNIwBHicep4csCqhMdSmA8GSgQSu5IXAcxGVnVLOuE/YrkBQGi+JWdyrb5oZta3dCvwF1t8Y1BCQj7AAAAABJRU5ErkJggg=="},113:function(e,t,a){e.exports=a(153)},120:function(e,t,a){},122:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(100),l=a.n(o),s=(a(120),a(10)),i=a(11),c=a(13),m=a(9),u=a(14),d=(a(122),a(110)),h=a(39),f=a(101),A=a.n(f),p=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("img",{src:A.a,alt:"Caritas DB Logo",width:this.props.size,height:this.props.size,className:"d-inline-block align-text-top"})}}]),t}(n.Component);p.defaultProps={size:30};var g=p,E=a(12),C=a(21),v=a(61),b=a(27),I=a(102),D=a.n(I),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={key:"#home"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{bg:"dark",expand:"lg",variant:"dark",sticky:"top"},r.a.createElement(E.a,null,r.a.createElement(v.a.Brand,{href:"#"},r.a.createElement(g,null),r.a.createElement("span",{className:"ms-2"},"Caritas Grumello")),r.a.createElement(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(v.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(C.a,{className:"me-auto",activeKey:this.state.key,onSelect:function(t){return e.setState({key:t})}},r.a.createElement(C.a.Link,{href:"#home",onClick:function(){return e.props.home()}},"Home"),r.a.createElement(C.a.Link,{href:"#famiglie",onClick:function(){return e.props.fams()}},"Famiglie"),r.a.createElement(C.a.Link,{href:"#magazzino",onClick:function(){return e.props.mag()}},"Magazzino"),r.a.createElement(C.a.Link,{href:"#borse"},"Borse")),r.a.createElement(C.a,null,r.a.createElement(v.a.Text,null,"Collegato come:"," "),r.a.createElement(b.a,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:"User",src:D.a}),this.props.username," "),id:"basic-nav-dropdown",menuVariant:"dark"},r.a.createElement(b.a.Item,{onClick:function(){return e.props.handleUser("handle")},href:"#user/handle",id:"handBtnNav"},"Gestisci"),r.a.createElement(b.a.Item,{onClick:function(){return e.props.handleSettings()},href:"#user/settings",id:"settBtnNav"},"Impostazioni"),r.a.createElement(b.a.Item,{onClick:function(){return e.props.handleDisconnect()},href:"#disconnect",id:"discBtnNav"},"Disconnettiti")))))))}}]),t}(n.Component),N=a(40),S=a(16),F=a(15),k=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{sm:"auto",p:"1"},r.a.createElement(N.a,{style:{width:"18rem"}},r.a.createElement(N.a.Body,null,r.a.createElement(F.a,{href:"#"+this.props.link,className:"btn btn-primary",onClick:this.props.action},r.a.createElement("img",{alt:"Icona",src:this.props.icon})," ",this.props.btntitle),r.a.createElement(N.a.Text,{className:"mt-1"},this.props.text)))))}}]),t}(n.Component),w=a(88),x=a.n(w),z=a(66),M=a.n(z),O=a(59),j=a.n(O),B=a(89),q=a.n(B),U=a(103),R=a.n(U),H=[{id:1,link:"addfam",btn:"Aggiungi",action:function(){},icon:x.a,text:"Permette di registrare una nuova famiglia a cui assegnare borse."},{id:2,btn:"Gestisci",link:"handlefam",action:function(){},icon:j.a,text:"Modifica i dati del dichiarante e della famiglia."},{id:3,btn:"Mostra",link:"showfam",action:function(){},icon:q.a,text:"Mostra i dati del dichiarante e della famiglia."},{id:4,btn:"Aggiungi Componente",link:"addcomp",action:function(){},icon:R.a,text:"Aggiungi un nuovo componente alla famiglia."},{id:5,btn:"Rimuovi Componente",link:"delcomp",action:function(){},icon:M.a,text:"Rimuovi un componente da una famiglia."},{id:6,btn:"Gestisci Componente",link:"handlecomp",action:function(){},icon:j.a,text:"Rimuovi un componente da una famiglia."}],L=[{id:1,link:"addborsa",btn:"Aggiungi",action:function(){},icon:x.a,text:"Permette di registrare una nuova borsa da assegnare a una famiglia."},{id:2,btn:"Gestisci",link:"handleborse",action:function(){},icon:j.a,text:"Modifica i dati delle borse."},{id:3,btn:"Mostra",link:"showborse",action:function(){},icon:q.a,text:"Mostra le borse registrate."},{id:4,btn:"Rimuovi",link:"delborsa",action:function(){},icon:M.a,text:"Rimuovi una borsa da una famiglia."}],G=a(19),T=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"p-3",md:"auto"},r.a.createElement(E.a,{md:"auto"},r.a.createElement(N.a,{className:"mt-2 p-1",md:"auto"},r.a.createElement(N.a.Title,{className:"m-1",id:"famiglie"},"Famiglie"),r.a.createElement(G.a,null,H.map(function(e){return r.a.createElement(k,{link:"fam/"+e.link,key:e.id,btntitle:e.btn,icon:e.icon,text:e.text,action:e.action})})))),r.a.createElement(E.a,{md:"auto",mx:"auto",my:"auto"},r.a.createElement(N.a,{className:"mt-2 p-1"},r.a.createElement(N.a.Title,{className:"mt-1",id:"borse"},"Borse"),r.a.createElement(G.a,null,L.map(function(e){return r.a.createElement(k,{link:"borse/"+e.link,key:e.id,btntitle:e.btn,icon:e.icon,text:e.text,action:e.action})}))))))}}]),t}(n.Component),P=a(60),X=a.n(P),V=a(44),Y=a.n(V),J="/caritas-api/index.php";function Q(e,t,a,n){"post"===t.method?Y.a.post(J+e,t,{headers:{"content-type":"application/json","X-Auth-Username":$.DataHandler.access.username,"X-Auth-Token":$.DataHandler.access.token}}).then(function(e){var t=e.data;t.auth&&t.res.exec?a(t):n(t)}).catch(function(e){n(e)}):"get"===t.method?Y.a.get(J+e,{params:t,headers:{"content-type":"application/json","X-Auth-Username":$.DataHandler.access.username,"X-Auth-Token":$.DataHandler.access.token}}).then(function(e){var t=e.data;t.auth?a(t):n(t)}).catch(function(e){return n(e)}):"put"===t.method?Y.a.put(J+e,t,{headers:{"content-type":"application/json","X-Auth-Username":$.DataHandler.access.username,"X-Auth-Token":$.DataHandler.access.token}}).then(function(e){var t=e.data;t.auth&&t.res.exec?a(t):n(t)}).catch(function(e){return n(e.data)}):"delete"===t.method&&Y.a.delete(J+e,{headers:{"content-type":"application/json","X-Auth-Username":$.DataHandler.access.username,"X-Auth-Token":$.DataHandler.access.token}}).then(function(e){var t=e.data;t.auth&&t.res.exec?a(t):n(t)}).catch(function(e){return n(e.data)})}function W(e,t,a){Q("/user/"+e.k,e,t,a)}function Z(e,t,a){Q("/fam/"+e.k,e,t,a)}function K(e,t,a){Q("/mag/"+e.k,e,t,a)}function _(e,t,a){Q("/extra/"+e.k,e,t,a)}var $={DataHandler:new(function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).access={token:void 0,username:void 0},a.dataSettings={light:!1},a.initData(),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"initData",value:function(){var e=X.a.get("access");e&&(e=e.split(";",2),this.access.token=e[1],this.access.username=e[0]),(e=X.a.get("dataSettings"))?this.dataSettings=JSON.parse(e):this.setDataSettings(this.dataSettings)}},{key:"setDataSettings",value:function(e){this.dataSettings=e,console.log(this.dataSettings),X.a.set("dataSettings",JSON.stringify(this.dataSettings))}},{key:"getDataSettings",value:function(){return this.dataSettings}},{key:"setLoginAccessData",value:function(e,t){X.a.set("access",t+";"+e,{expires:30,secure:!0}),this.access.token=e,this.access.username=t}},{key:"releaseAccess",value:function(){X.a.remove("access"),window.location.reload()}},{key:"isLogged",value:function(e,t){var a,n,r;this.access.token&&this.access.username?(a=this.access,n=e,r=t,W({method:"post",link:"user",k:"access",username:a.username,token:a.token},n,r)):t({msg:"Inserisci le credenziali per procedere:"})}},{key:"hasLogged",value:function(e,t){return this.access.token&&this.access.username?e():t()}}]),t}(n.Component))};function ee(e){e.setState({body:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{fluid:!0,className:"mt-5"},r.a.createElement(G.a,{md:"auto"},r.a.createElement(E.a,{fluid:!0,md:"auto",className:"text-center"},r.a.createElement(S.a,{md:"auto",className:"text-center"},r.a.createElement(G.a,{md:"auto"},r.a.createElement("span",{className:"h5 lead"},"Stai per disconnetterti: dopo il loguot dovrai eseguire nuovamente l'accesso.")),r.a.createElement(G.a,{md:"auto",className:"text-center"},r.a.createElement(S.a,{md:"auto",className:"text-center"},r.a.createElement(F.a,{onClick:$.DataHandler.releaseAccess},"Disconnetti"))))))))})}var te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",datas:null},a.handleUsernameChanged=function(e){a.setState({username:e.target.value})},a.handlePasswordChanged=function(e){a.setState({password:e.target.value})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"mt-5"},r.a.createElement("div",{className:"container-fluid "},r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-6 container-fluid text-center"},r.a.createElement("div",{className:"row align-text-center"},r.a.createElement("h4",{className:"h5"},r.a.createElement(g,null),r.a.createElement("span",{className:"ms-3"},"Accedi al database"))),r.a.createElement("div",null,r.a.createElement("span",{className:"h6"},this.props.extraInfo)),r.a.createElement("div",{className:"row mt-4"},r.a.createElement("form",{className:"col-10 container-fluid text-center",onSubmit:function(t){return e.login(t)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col input-group mb-1"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon1",role:"img","aria-label":"Username Icon"},"\ud83d\udc64")),r.a.createElement("input",{type:"text",name:"username",placeholder:"Username","aria-label":"Username",className:"form-control","aria-describedby":"basic-addon1",onChange:this.handleUsernameChanged}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col input-group mb-1"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text",id:"basic-addon2",role:"img","aria-label":"Password Icon"},"\ud83d\udd11")),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autoComplete:"on",className:"form-control","aria-describedby":"basic-addon2",onChange:this.handlePasswordChanged}))),r.a.createElement("div",{className:"row mt-1"},r.a.createElement("div",{className:"col text-end"},r.a.createElement("button",{type:"button",className:"btn btn-secondary me-1",onClick:this.props.handleCancel}," Annulla"),r.a.createElement("button",{type:"submit",className:"btn btn-primary ms-1"}," Accedi"))))),r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:"mailto:thatcmd@gmail.com"},"Dimenticato l'accesso?"))))))}},{key:"login",value:function(e){var t=this;e.preventDefault(),W({method:"post",k:"login",username:this.state.username,password:this.state.password},function(e){t.setState({auth:e.auth,token:e.res.token},function(){t.state.auth&&($.DataHandler.setLoginAccessData(t.state.token,t.state.username),t.props.handleSuccess())})},function(e){alert(e.res.msg)})}}]),t}(n.Component),ae=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"bg-dark"},r.a.createElement(G.a,{id:"bottom",className:"text-center fixed-bottom"},r.a.createElement("div",{className:"col-4"},r.a.createElement("span",null,"Connesso come: ",r.a.createElement("span",{className:"fw-bold"},this.props.username))),r.a.createElement("div",{className:"col-4"}),r.a.createElement("div",{className:"col-4"},r.a.createElement("a",{href:"#logout",onClick:this.props.handleLogout,className:"link-dark"},"Disconnettiti")),r.a.createElement("div",{className:"col-12"},"Copyright \xa9 ",(new Date).getFullYear()," Vnl-Eng.net"))))}}]),t}(n.Component),ne=a(2),re=a(6),oe=a(8),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){return a.setShow(!1)},a.handleShow=function(){return a.setShow(!0)},a.state={username:"",email:"",expire:(new Date).toLocaleDateString(),auth:!1,editing:!1,modify_btn:"Modifica",show:!1,save_btn:r.a.createElement(r.a.Fragment,null),body:r.a.createElement(r.a.Fragment,null)},a.edit=function(){var e=!a.state.editing;a.setState({modify_btn:e?"Scarta":"Modifica",editing:e,save_btn:e?r.a.createElement(S.a,{md:"auto"},r.a.createElement(F.a,{variant:"success",onClick:a.handleShow},"Salva")):r.a.createElement(r.a.Fragment,null)}),a.reloadComp()},a.handleChangeEventEmail=function(e){e.preventDefault(),a.setState({email:e.target.value})},a.handleChangeEventUsername=function(e){e.preventDefault(),a.setState({username:e.target.value})},a.handleChangeEventPassword=function(e){e.preventDefault(),a.setState({password:e.target.value})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"setShow",value:function(e){this.setState({show:e})}},{key:"reloadComp",value:function(){var e=this;W(Object(ne.a)({},{method:"get",k:"get"},$.DataHandler.access),function(t){e.setState({username:t.username,email:t.email,expire:t.expire,auth:t.auth})},function(t){e.setState({body:e.onErrorHandle(t.msg)})})}},{key:"componentDidMount",value:function(){this.reloadComp()}},{key:"onErrorHandle",value:function(e){return r.a.createElement(r.a.Fragment,null,e)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{fluid:!0,md:"auto",className:"mt-2",style:{maxWidth:420}},r.a.createElement(re.a,null,r.a.createElement(re.a.Group,{className:"mb-3",controlId:"emailgorup"},r.a.createElement(re.a.Label,{className:"lead"},"Indirizzo email:"),r.a.createElement(re.a.Control,{type:"email",disabled:!this.state.editing,value:this.state.email,onChange:this.handleChangeEventEmail})),r.a.createElement(re.a.Group,{className:"mb-3",controlId:"usernamegroup"},r.a.createElement(re.a.Label,{className:"lead"},"Username:"),r.a.createElement(re.a.Control,{type:"text",rows:3,disabled:!this.state.editing,value:this.state.username,onChange:this.handleChangeEventUsername}))),r.a.createElement(G.a,null,r.a.createElement("span",{className:"lead text-primary"},"Autorizzato: ",this.state.auth?"S\xec":"No"),r.a.createElement("span",{className:"text-secondary"},"Con token: ",$.DataHandler.access.token),r.a.createElement("span",{className:"text-secondary"},"Scadenza: ",this.state.expire)),r.a.createElement(G.a,{className:"mt-2",mx:"auto"},this.state.save_btn,r.a.createElement(S.a,null,r.a.createElement(F.a,{variant:"primary",onClick:this.edit},this.state.modify_btn)),r.a.createElement(S.a,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.props.handleDisconnect,disabled:this.state.editing},"Disconnetti")),r.a.createElement(S.a,null,r.a.createElement(F.a,{variant:"danger",disabled:!this.state.editing},"Elimina"))),r.a.createElement(oe.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,"Conferma cambio dati")),r.a.createElement(oe.a.Body,null,r.a.createElement("span",null,"Dopo che avrai completato l'operazione dovrai eseguire nuovamente il login."),r.a.createElement(re.a,null,r.a.createElement(re.a.Group,{className:"mb-3",controlId:"passwordgroup"},r.a.createElement(re.a.Label,{className:"lead"},"Conferma password:"),r.a.createElement(re.a.Control,{type:"password",autoComplete:"true",onChange:this.handleChangeEventPassword})))),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.handleClose},"Chiudi"),r.a.createElement(F.a,{variant:"primary",onClick:function(){e.handleClose(),e.props.handleModify({newuser:e.state.username,password:e.state.password,newemail:e.state.email}),e.edit()}},"Salva modifiche")))))}}]),t}(n.Component);function se(e){$.DataHandler.isLogged(function(){e.setState({showLogin:!1,body:r.a.createElement(le,{handleDisconnect:function(){ee(e)},handleModify:function(e){return function(e,t,a,n){W(Object(ne.a)({},{method:"put",k:"update"},t),function(e){a(e)},function(e){n(e)})}(0,e,function(e){alert(e)})}})})},function(t){e.setState({showLogin:!0,body:e.generateLoginModule(t.res.msg)})})}var ie=a(105),ce=a(104),me=a.n(ce);var ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={options:!0,search_form:r.a.createElement(r.a.Fragment,null),query:[]},a.handleSearch=function(e){e.preventDefault();var t=a.props.query.filter(function(t){return a.props.datafilter(t,e.target.value)});a.setState({query:t})},a.dataFormatter=function(e,t){return a.props.dataFormatter?a.props.dataFormatter(e,t):t},a.state.options=a.props.handleShow||a.props.handleEdit||a.props.handleDelete,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&this.setState({query:this.props.query}),e.searchText!==this.props.searchText&&this.setState({search_form:r.a.createElement(re.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(re.a.Group,{className:"mb-3",controlId:"searchGroupFamily"},r.a.createElement(re.a.Label,{className:"lead"},this.props.searchText),r.a.createElement(re.a.Control,{autoComplete:"off",autoCorrect:"off",type:"search",onChange:this.handleSearch})))})}},{key:"componentDidMount",value:function(){this.props.searchText?this.setState({search_form:r.a.createElement(re.a,{bg:"dark",variant:"dark",sticky:"top"},r.a.createElement(re.a.Group,{className:"mb-3",controlId:"searchGroupFamily"},r.a.createElement(re.a.Label,{className:"lead"},this.props.searchText),r.a.createElement(re.a.Control,{autoComplete:"off",autoCorrect:"off",type:"search",onChange:this.handleSearch}))),query:this.props.query}):this.setState({query:this.props.query})}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,null,this.state.search_form,r.a.createElement("div",{style:{height:"60vh",overflowY:"auto"},className:"rounded shadow",mx:"auto"},r.a.createElement(ie.a,{className:"text-center",bgcolor:"white",striped:!0,responsive:!0,mx:"auto",hover:!0},r.a.createElement("thead",{className:"border"},r.a.createElement("tr",null,Object.keys(this.props.heads).map(function(t){return r.a.createElement("th",{key:t},e.props.heads[t])}),this.state.options?r.a.createElement("th",null,"Opzioni"):r.a.createElement(r.a.Fragment,null))),r.a.createElement("tbody",{className:"border"},this.state.query.map(function(t,a){return r.a.createElement("tr",{key:a},Object.keys(e.props.heads).map(function(n){var o=t[n]?t[n]:"\u2014\u2014";return r.a.createElement("td",{key:a+""+n+t[n]},e.dataFormatter(n,o))}),e.state.options?r.a.createElement("td",{key:a},e.props.handleShow?r.a.createElement(F.a,{className:"center-text",variant:"transparent",onClick:function(a){return e.props.handleShow(a,t[e.props.handleParam])}},r.a.createElement("img",{src:me.a,alt:"Mostra",style:{width:16,height:16}})):r.a.createElement(r.a.Fragment,null),e.props.handleEdit?r.a.createElement(F.a,{className:"center-text",variant:"transparent",onClick:function(a){return e.props.handleEdit(a,t[e.props.handleParam])}},r.a.createElement("img",{src:j.a,alt:"Modifica",style:{width:16,height:16}})):r.a.createElement(r.a.Fragment,null),e.props.handleDelete?r.a.createElement(F.a,{className:"center-text",variant:"transparent",onClick:function(a){return e.props.handleDelete(a,t[e.props.handleParam])}},r.a.createElement("img",{src:M.a,alt:"Elimina",style:{width:16,height:16}})):r.a.createElement(r.a.Fragment,null)):r.a.createElement(r.a.Fragment,null))})))))}}]),t}(n.Component),de=a(22),he=a(106),fe=a.n(he);function Ae(e,t,a){Z(Object(ne.a)({},{method:"get",k:"show/"+a}),function(t){e(t)},function(e){t(e)})}var pe=a(107),ge=a.n(pe),Ee=a(108),Ce=a.n(Ee),ve=a(109),be=a.n(ve);function Ie(e,t,a,n,o){var l=function(e){e.preventDefault(),n(),o()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{show:!0,onHide:l,centered:!0},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,r.a.createElement("img",{src:be.a,alt:"Attenzione"})," ",e)),r.a.createElement(oe.a.Body,null,r.a.createElement("span",{className:"lead warp"},t)),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:l},"No"),r.a.createElement(F.a,{variant:"primary",onClick:function(e){e.preventDefault(),a(),o()}},"S\xec"))))}function De(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{show:!0,onHide:a,centered:!0},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,r.a.createElement("img",{src:n?Ce.a:ge.a,alt:n?"Successo":"Errore"})," ",e)),r.a.createElement(oe.a.Body,null,r.a.createElement("span",{className:"lead warp"},t)),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:a},"Ok"))))}var ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={show:!1,edit:!1,IDFAM:-1},a.handleNameChange=function(e){e.preventDefault(),a.setState({NDic:e.target.value.toUpperCase()})},a.handleSurnameChange=function(e){e.preventDefault(),a.setState({CDic:e.target.value.toUpperCase()})},a.handleCodFChange=function(e){e.preventDefault(),a.setState({CodiceF:e.target.value.toUpperCase()})},a.handleAddressChange=function(e){e.preventDefault(),a.setState({Indirizzo:e.target.value.toUpperCase()})},a.handlePhoneChange=function(e){e.preventDefault(),a.setState({Telefono:e.target.value.toUpperCase()})},a.handleEdit=function(e){var t,n,r,o;e.preventDefault(),t=function(e){a.props.success_handler&&(a.props.success_handler(e),a.props.handleClose())},n=function(e){a.props.error_handler&&a.props.error_handler(e)},r=a.state.IDFAM,o={IDFAM:a.state.IDFAM,NDic:a.state.NDic,CDic:a.state.CDic,CodiceF:a.state.CodiceF,Indirizzo:a.state.Indirizzo,Telefono:a.state.Telefono},Z(Object(ne.a)({},o,{method:"put",k:"update/"+r}),function(e){t(e)},function(e){n(e)})},a.state.IDFAM=e.IDFAM,a.state.edit=e.edit,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;Ae(function(t){e.setState({show:!0,IDFAM:t.query[0].IDFAM?t.query[0].IDFAM:"",NDic:t.query[0].NDic?t.query[0].NDic:"",CDic:t.query[0].CDic?t.query[0].CDic:"",CodiceF:t.query[0].CodiceF?t.query[0].CodiceF:"",Indirizzo:t.query[0].Indirizzo?t.query[0].Indirizzo:"",Telefono:t.query[0].Telefono?t.query[0].Telefono:""})},function(t){e.setState({show:!1})},this.state.IDFAM)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.show?r.a.createElement(oe.a,{show:this.state.show,onHide:this.props.handleClose},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,"Modifica famiglia")),r.a.createElement(oe.a.Body,null,r.a.createElement("span",{className:"lead"},"Visualizza e modifica i dati della famiglia:"),r.a.createElement(re.a,null,r.a.createElement(E.a,{fluid:!0,mx:"auto"},r.a.createElement(G.a,{mx:"auto"},r.a.createElement(S.a,{md:!0},r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"famdata"},r.a.createElement(re.a.Text,{className:"h6"},"Dati Dichiarante:"),r.a.createElement(de.a,{controlId:"floatingName",label:"Nome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,value:this.state.NDic,onChange:this.handleNameChange})),r.a.createElement(de.a,{controlId:"floatingSurname",label:"Cognome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,value:this.state.CDic,onChange:this.handleSurnameChange})),r.a.createElement(de.a,{controlId:"floatingCodice",label:"Codice Fiscale",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,value:this.state.CodiceF,onChange:this.handleCodFChange})))),r.a.createElement(S.a,{md:!0},r.a.createElement(re.a.Group,{className:"mt-3",controlId:"famid"},r.a.createElement(re.a.Text,{className:"h6"},"ID Famiglia:"),r.a.createElement(de.a,{controlId:"floatingID",label:"ID",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!0,value:this.state.IDFAM}))),r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"faminfo"},r.a.createElement(re.a.Text,{className:"h6"},"Informazioni:"),r.a.createElement(de.a,{controlId:"floatingAddress",label:"Indirizzo",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,value:this.state.Indirizzo,onChange:this.handleAddressChange})),r.a.createElement(de.a,{controlId:"floatingPhone",label:"Telefono",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,value:this.state.Telefono,onChange:this.handlePhoneChange})))))))),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.props.handleClose},"Chiudi"),r.a.createElement(F.a,{variant:"primary",onClick:this.handleEdit},"Salva modifiche"))):r.a.createElement(E.a,null,r.a.createElement("span",null,"Errore caricamento dati")))}}]),t}(n.Component),Ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={show:!1,modal:r.a.createElement(r.a.Fragment,null),IDFAM:-1,ID:-1,query:{}},a.handleAdd=function(e){e.preventDefault(),a.setState({show:!1,modal:r.a.createElement(Fe,{handleClose:function(){a.refersh()},IDFAM:a.state.IDFAM})})},a.handleEdit=function(e,t){e.preventDefault(),a.setState({show:!1,modal:r.a.createElement(Fe,{handleClose:function(){a.refersh()},ID:t,IDFAM:a.state.IDFAM,edit:!0})})},a.handleDelete=function(e,t){e.preventDefault(),a.setState({show:!1,modal:Ie("Elimina componente","Vuoi davvero eliminare questo componente?",function(){var e;e=a.state.IDFAM,function(e,t,a){Z(Object(ne.a)({},{method:"delete",k:"del/"+a.idfam+"/comp/"+a.idcomp}),function(t){e(t)},function(e){t(e)})}(function(e){a.refersh()},function(){},{idfam:e,idcomp:t})},function(){},function(){a.setState({show:!0,modal:r.a.createElement(r.a.Fragment,null)})})})},e.IDFAM?a.state.IDFAM=e.IDFAM:a.state.ID=e.ID,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.refersh()}},{key:"refersh",value:function(){var e=this;Ae(function(t){e.setState({query:t.query,show:!0,IDFAM:t.query[0].IDFAM?t.query[0].IDFAM:"",NDic:t.query[0].NDic?t.query[0].NDic:"",CDic:t.query[0].CDic?t.query[0].CDic:"",CodiceF:t.query[0].CodiceF?t.query[0].CodiceF:"",Indirizzo:t.query[0].Indirizzo?t.query[0].Indirizzo:"",Telefono:t.query[0].Telefono?t.query[0].Telefono:"",components:t.query[0].components?t.query[0].components:{},modal:r.a.createElement(r.a.Fragment,null)})},function(t){e.setState({show:!1}),console.log(t)},this.state.IDFAM>-1?"data/"+this.state.IDFAM:"d/"+this.state.ID)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.show?r.a.createElement(oe.a,{show:this.state.show,onHide:this.props.handleClose,size:"xl"},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,"Dati famiglia: ",this.state.IDFAM)),r.a.createElement(oe.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(G.a,{className:"justify-content-start"},r.a.createElement(S.a,{md:"auto"},r.a.createElement("span",{className:"fw-bold"},"Dichiarante: ")),r.a.createElement(S.a,{md:"auto",ms:"2"},r.a.createElement("span",{className:"text-center"},this.state.NDic+" "+this.state.CDic))),r.a.createElement(G.a,{className:"justify-content-start"}),r.a.createElement(G.a,{className:"justify-content-start align-item-center"},r.a.createElement(S.a,{md:"auto"},r.a.createElement("span",{className:"fw-bold text-center"},"Informazioni: ")),r.a.createElement(S.a,{md:"auto",className:""},r.a.createElement("span",{className:"text-center"},this.state.Indirizzo)),r.a.createElement(S.a,{md:"auto",className:"text-center"},r.a.createElement("span",{className:"text-center"},this.state.Telefono)),r.a.createElement(S.a,{md:"auto",className:"text-center"},r.a.createElement("span",{className:"text-center"},this.state.CodiceF))),r.a.createElement(G.a,{className:"mt-2"},r.a.createElement(S.a,null,r.a.createElement("span",{className:"lead text-center"},"Componenti: "),r.a.createElement(E.a,{fluid:!0,className:"justify-content-end"},r.a.createElement(F.a,{size:"sm",className:"text-center",onClick:this.handleAdd},r.a.createElement("img",{src:fe.a,style:{width:16,height:16},alt:"Aggiungi"})," Aggiungi")))),r.a.createElement(G.a,{mx:"auto",className:"mt-1"},r.a.createElement(S.a,null,(e=this.state.query.components,t=this.handleDelete,a=this.handleEdit,r.a.createElement(ue,{query:e,heads:{Parentela:"#",Nome:"Dichiarante",Cognome:"Cognome",Nascita:"Data di nascita"},handleDelete:t,handleEdit:a,handleParam:"ID",datafilter:function(e,t){return(""+e.Parentela).includes(t)||e.Nome.toLowerCase().includes(t)}}))))))):r.a.createElement(r.a.Fragment,null,this.state.modal));var e,t,a}}]),t}(n.Component),Se=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={show:!0,IDFAM:-1,NDic:"",CDic:"",CodiceF:"",Indirizzo:"",Telefono:"",NCon:"",CCon:""},a.handleNameChange=function(e){e.preventDefault(),a.setState({NDic:e.target.value.toUpperCase()})},a.handleSurnameChange=function(e){e.preventDefault(),a.setState({CDic:e.target.value.toUpperCase()})},a.handleCodFChange=function(e){e.preventDefault(),a.setState({CodiceF:e.target.value.toUpperCase()})},a.handleAddressChange=function(e){e.preventDefault(),a.setState({Indirizzo:e.target.value.toUpperCase()})},a.handlePhoneChange=function(e){e.preventDefault(),a.setState({Telefono:e.target.value.toUpperCase()})},a.handleIDFAMChange=function(e){e.preventDefault(),a.setState({IDFAM:e.target.value})},a.handleCreate=function(e){var t,n,r;e.preventDefault(),t=function(e){a.props.success_handler?a.props.success_handler(e):a.props.handleClose()},n=function(e){a.props.error_handler&&a.props.error_handler(e)},r={IDFAM:a.state.IDFAM,NDic:a.state.NDic,CDic:a.state.CDic,CodiceF:a.state.CodiceF,Indirizzo:a.state.Indirizzo,Telefono:a.state.Telefono,NCon:a.state.NCon,CCon:a.state.CCon},Z(Object(ne.a)({},r,{method:"post",k:"add"}),function(e){t(e)},function(e){n(e)})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.show?r.a.createElement(oe.a,{show:this.state.show,onHide:this.props.handleClose},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,"Crea famiglia")),r.a.createElement(oe.a.Body,null,r.a.createElement("span",{className:"lead"},"Iscrivi nuova famiglia:"),r.a.createElement(re.a,null,r.a.createElement(E.a,{fluid:!0,mx:"auto"},r.a.createElement(G.a,{mx:"auto"},r.a.createElement(S.a,{md:!0},r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"famdata"},r.a.createElement(re.a.Text,{className:"h6"},"Dati Dichiarante:"),r.a.createElement(de.a,{controlId:"floatingName",label:"Nome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.NDic,onChange:this.handleNameChange})),r.a.createElement(de.a,{controlId:"floatingSurname",label:"Cognome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.CDic,onChange:this.handleSurnameChange})),r.a.createElement(de.a,{controlId:"floatingCodice",label:"Codice Fiscale",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.CodiceF,onChange:this.handleCodFChange})))),r.a.createElement(S.a,{md:!0},r.a.createElement(re.a.Group,{className:"mt-3",controlId:"famid"},r.a.createElement(re.a.Text,{className:"h6"},"ID Famiglia:"),r.a.createElement(de.a,{controlId:"floatingID",label:"ID",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.IDFAM,onChange:this.handleIDFAMChange}))),r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"faminfo"},r.a.createElement(re.a.Text,{className:"h6"},"Informazioni:"),r.a.createElement(de.a,{controlId:"floatingAddress",label:"Indirizzo",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.Indirizzo,onChange:this.handleAddressChange})),r.a.createElement(de.a,{controlId:"floatingPhone",label:"Telefono",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.Telefono,onChange:this.handlePhoneChange})))))))),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.props.handleClose},"Chiudi"),r.a.createElement(F.a,{variant:"primary",onClick:this.handleCreate},"Salva"))):r.a.createElement(E.a,null,r.a.createElement("span",null,"Errore caricamento dati")))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={show:!0,edit:!1,modal:r.a.createElement(r.a.Fragment,null),Nome:"",Cognome:"",Nascita:(new Date).toISOString().substring(0,10),Parentela:0,query:[]},a.handleNameChange=function(e){e.preventDefault(),a.setState({Nome:e.target.value.toUpperCase()})},a.handleSurnameChange=function(e){e.preventDefault(),a.setState({Cognome:e.target.value.toUpperCase()})},a.handleDateChange=function(e){e.preventDefault(),a.setState({Nascita:e.target.value})},a.handleParentelaChange=function(e){e.preventDefault(),a.setState({Parentela:e.target.value})},a.handleSubmit=function(e){var t,n,o,l;e.preventDefault(),a.state.edit?(t=function(e){a.props.handleClose()},n=function(e){console.log(e),a.setState({show:!1,modal:De("Errore modifica componente","Non \xe8 stato possibile modificare il componente.",function(){a.setState({show:!0,modal:r.a.createElement(r.a.Fragment,null)}),a.props.handleClose()})})},o={idfam:a.props.IDFAM,idcomp:a.props.ID},l={Nome:a.state.Nome,Cognome:a.state.Cognome,Nascita:new Date(a.state.Nascita).getTime()/1e3,Parentela:a.state.Parentela},Z(Object(ne.a)({},l,{method:"put",k:"update/"+o.idfam+"/"+o.idcomp}),function(e){t(e)},function(e){n(e)})):function(e,t,a,n){Z(Object(ne.a)({},n,{method:"post",k:"add/"+a}),function(t){e(t)},function(e){t(e)})}(function(e){console.log(e),a.props.handleClose()},function(e){console.log(e),a.setState({show:!1,modal:De("Errore creazione componente","Non \xe8 stato possibile creare un nuovo componente.",function(){a.setState({show:!0,modal:r.a.createElement(r.a.Fragment,null)}),a.props.handleClose()})})},a.props.IDFAM,{Nome:a.state.Nome,Cognome:a.state.Cognome,Nascita:new Date(a.state.Nascita).getTime()/1e3,Parentela:a.state.Parentela})},e.edit&&(a.state.edit=e.edit),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;e=function(e){t.setState({query:e.query})},_(Object(ne.a)({},{method:"get",k:"parentele"}),e,function(e){alert(e)}),this.state.edit&&function(e,t,a){Z(Object(ne.a)({},{method:"get",k:"comp/"+a.idfam+"/"+a.idcomp}),e,function(e){t(e)})}(function(e){t.setState({Nome:e.query[0].Nome,Cognome:e.query[0].Cognome,Nascita:new Date(e.query[0].Nascita).toDateInputValue(),Parentela:e.query[0].IDParentela})},function(e){console.log(e)},{idfam:this.props.IDFAM,idcomp:this.props.ID})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.show?r.a.createElement(oe.a,{show:this.state.show,onHide:this.props.handleClose,centered:!0},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,this.state.edit?"Modifica Componente":"Crea Componente")),r.a.createElement(oe.a.Body,null,r.a.createElement("span",{className:"lead"},this.state.edit?"Cambia i dati del componente della famiglia:":"Iscrivi un nuovo componente alla famiglia:"),r.a.createElement(re.a,null,r.a.createElement(E.a,{fluid:!0,mx:"auto"},r.a.createElement(G.a,{mx:"auto"},r.a.createElement(S.a,{md:!0},r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"famdata"},r.a.createElement(re.a.Text,{className:"h6"},"Dati Componente:"),r.a.createElement(de.a,{controlId:"floatingName",label:"Nome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.Nome,onChange:this.handleNameChange})),r.a.createElement(de.a,{controlId:"floatingSurname",label:"Cognome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",value:this.state.Cognome,onChange:this.handleSurnameChange})),r.a.createElement(de.a,{controlId:"floatingNascita",label:"Data di nascita",className:"mt-1"},r.a.createElement(re.a.Control,{type:"date",autoComplete:"off",autoCorrect:"off",value:this.state.Nascita,onChange:this.handleDateChange})),r.a.createElement(de.a,{controlId:"floatingParentela",label:"Parentela",className:"mt-1"},r.a.createElement(re.a.Select,{"aria-label":"Grado di parentela",value:this.state.Parentela,onChange:this.handleParentelaChange},this.state.query.map(function(e,t){return r.a.createElement("option",{key:t,value:e.ID},e.Tipo)}))))))))),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.props.handleClose},"Chiudi"),r.a.createElement(F.a,{variant:"primary",onClick:this.handleSubmit},this.state.edit?"Applica":"Salva"))):r.a.createElement(E.a,null,r.a.createElement("span",null,"Errore caricamento dati")),r.a.createElement(r.a.Fragment,null,this.state.modal))}}]),t}(n.Component);function ke(e,t,a){!function(e,t,a){Z(Object(ne.a)({},{method:"delete",k:"del/"+a.idfam}),function(t){e(t)},function(e){t(e)})}(t,a,{idfam:e})}var we=a(79),xe=a.n(we),ze=a(80),Me=a.n(ze),Oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={body:r.a.createElement(r.a.Fragment,null),modal:r.a.createElement(r.a.Fragment,null),key:""},a.resetModal=function(){a.setState({modal:r.a.createElement(r.a.Fragment,null)})},a.handleEdit=function(e,t,n,o){e.preventDefault(),a.setState({modal:r.a.createElement(ye,{IDFAM:t,handleClose:function(){a.setState({modal:r.a.createElement(r.a.Fragment,null)})},edit:!0,success_handler:function(e){return Ae(n,function(e){console.log(e)},o)},error_handler:a.errorReloadFams})})},a.handleShow=function(e,t){e.preventDefault(),a.setState({modal:r.a.createElement(Ne,{handleClose:a.resetModal,IDFAM:t})})},a.handleCreate=function(e){e.preventDefault(),a.setState({modal:r.a.createElement(Se,{handleClose:a.resetModal,success_handler:function(e){a.setState({modal:r.a.createElement(Ne,{handleClose:function(){a.resetModal(),a.componentDidMount()},ID:e.res.query.ID})})}})})},a.handleDelete=function(e,t){e.preventDefault(),a.setState({modal:Ie("Eliminare Famiglia","Vuoi davvero eliminare questa famiglia?",function(){ke(t,function(){a.componentDidMount()},function(){a.setState({modal:De("Errore eliminazione","Non \xe8 stato possibile eliminare la famiglia.",a.resetModal)})})},function(){},a.resetModal)})},a.renderfams=function(e){var t,n,o,l;a.setState({body:(t=a.handleShow,n=function(e,t){return a.handleEdit(e,t,a.renderfams,"all")},o=a.handleDelete,l=e.query,r.a.createElement(ue,{query:l,searchText:"Esegui ricerca: (ID, Nome, Cognome, Indirizzo)",handleShow:t,handleEdit:n,handleDelete:o,heads:{IDFAM:"#",NDic:"Nome",CDic:"Cognome",CodiceF:"Codice Fiscale",Indirizzo:"Indirizzo",Telefono:"Telefono"},handleParam:"IDFAM",datafilter:function(e,t){return(""+e.IDFAM).includes(t)||e.NDic.toLowerCase().includes(t)||e.CDic.toLowerCase().includes(t)||!!e.Indirizzo&&e.Indirizzo.toLowerCase().includes(t)}}))})},a.renderDichs=function(e){var t,n,o,l;a.setState({body:(t=a.handleShow,n=function(e,t){return a.handleEdit(e,t,a.renderDichs,"dichs")},o=a.handleDelete,l=e.query,r.a.createElement(ue,{query:l,searchText:"Esegui ricerca: (ID, Nome, Codice Fiscale)",handleShow:t,handleEdit:n,handleDelete:o,heads:{IDFAM:"#",Dichiarante:"Dichiarante",CodiceF:"Codice Fiscale"},handleParam:"IDFAM",datafilter:function(e,t){return(""+e.IDFAM).includes(t)||e.Dichiarante.toLowerCase().includes(t)||(""+e.CodiceF).toLowerCase().includes(t)}}))})},a.errorReloadFams=function(e){a.setState({modal:De("Errore ricezione dati","Non \xe8 stato possibile leggere la lista famiglie.",a.resetModal)})},a.handleIdChange=function(e){e.preventDefault(),""!==e.target.value?Ae(a.renderfams,a.errorReloadFams,e.target.value):Ae(a.renderfams,a.errorReloadFams,"all")},a.state.key=$.DataHandler.dataSettings.light?"#fam/show/dichs":"#fam/show/all",a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){$.DataHandler.dataSettings.light?Ae(this.renderDichs,this.errorReloadFams,"dichs"):Ae(this.renderfams,this.errorReloadFams,"all")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(C.a,{variant:"pills",bg:"dark",className:"mt-2",activeKey:this.state.key,onSelect:function(t){return e.setState({key:t})}},r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"/"},r.a.createElement("img",{src:xe.a,style:{width:16,height:16},alt:"Indietro"})," Home")),r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"#/fam/add",onClick:this.handleCreate},"Aggiungi Famiglia")),$.DataHandler.dataSettings.light?r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"#fam/show/dichs",onClick:function(){return Ae(e.renderDichs,e.errorReloadFams,"dichs")}},"Dichiaranti")):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{title:"Mostra famiglie",id:"nav-dropdown-x"},r.a.createElement(b.a.Item,{href:"#fam/show/all",onClick:function(){return Ae(e.renderfams,e.errorReloadFams,"all")}},"Tutte"),r.a.createElement(b.a.Item,{href:"#fam/show/address",onClick:function(){return Ae(e.renderfams,e.errorReloadFams,"address")}},"Con Indirizzo"),r.a.createElement(b.a.Item,{href:"#fam/show/codice",onClick:function(){return Ae(e.renderfams,e.errorReloadFams,"codice")}},"Con Codice Fiscale"),r.a.createElement(b.a.Item,{href:"#fam/show/both",onClick:function(){return Ae(e.renderfams,e.errorReloadFams,"both")}},"Con Entrambi"))),r.a.createElement(C.a.Item,{className:"ml-auto text-center"},r.a.createElement(C.a.Link,{href:"#/",onClick:function(){return e.componentDidMount()}},r.a.createElement("img",{src:Me.a,alt:"Ricarica"})," Ricarica"))),r.a.createElement("hr",null),r.a.createElement(E.a,null,this.state.body,this.state.modal)))}}]),t}(n.Component);function je(e,t,a){K(Object(ne.a)({},{method:"get",k:"show/"+a}),function(t){e(t)},function(e){t(e)})}function Be(e,t,a){K(Object(ne.a)({},{method:"get",k:"prod/"+a}),function(t){e(t)},function(e){t(e)})}var qe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={create:!1,show:!1,edit:!1,ID:-1,query:[]},a.handleNameChange=function(e){e.preventDefault(),a.setState({Nome:e.target.value.toUpperCase()})},a.handleConfezioneChange=function(e){e.preventDefault(),a.setState({IDConfezioni:e.target.value})},a.handleIsMagazzinoChange=function(e){a.setState({IsMagazzino:!a.state.IsMagazzino})},a.handleIsFrescoChange=function(e){a.setState({IsFresco:!a.state.IsFresco})},a.handleIsExtraChange=function(e){a.setState({IsExtra:!a.state.IsExtra})},a.handleIsIgieneChange=function(e){a.setState({IsIgiene:!a.state.IsIgiene})},a.handleEdit=function(e){var t,n,r,o;e.preventDefault(),t=function(e){a.props.success_handler&&(a.props.success_handler(e),a.props.handleClose())},n=function(e){a.props.error_handler&&a.props.error_handler(e)},r=a.state.ID,o={ID:a.state.ID,Nome:a.state.Nome,IDConfezioni:a.state.IDConfezioni,IsMagazzino:a.state.IsMagazzino,IsFresco:a.state.IsFresco,IsIgiene:a.state.IsIgiene,IsExtra:a.state.IsExtra},K(Object(ne.a)({},o,{method:"put",k:"prod/update/"+r}),function(e){t(e)},function(e){n(e)})},a.handleCreate=function(e){var t,n,r;e.preventDefault(),t=function(e){a.props.success_handler&&(a.props.success_handler(e),a.props.handleClose())},n=function(e){a.props.error_handler&&a.props.error_handler(e)},r={Nome:a.state.Nome,IDConfezioni:a.state.IDConfezioni,IsMagazzino:a.state.IsMagazzino,IsFresco:a.state.IsFresco,IsIgiene:a.state.IsIgiene,IsExtra:a.state.IsExtra},K(Object(ne.a)({},r,{method:"post",k:"add/prod"}),function(e){t(e)},function(e){n(e)})},a.state.ID=e.ID,a.state.edit=e.edit||e.create,a.state.create=e.create,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;e=function(e){t.setState({query:e.query})},_(Object(ne.a)({},{method:"get",k:"confezioni"}),e,function(e){alert(e)}),this.state.create?this.setState({show:!0,Nome:"",Confezione:"",IDConfezioni:1,IsMagazzino:!0,IsFresco:!1,IsIgiene:!1,IsExtra:!1}):Be(function(e){t.setState({show:!0,ID:e.query[0].ID?e.query[0].ID:"",Nome:e.query[0].Nome?e.query[0].Nome:"",Confezione:e.query[0].Confezione?e.query[0].Confezione:"",IDConfezioni:e.query[0].IDConfezioni?e.query[0].IDConfezioni:"",IsMagazzino:!!e.query[0].IsMagazzino&&e.query[0].IsMagazzino,IsFresco:!!e.query[0].IsFresco&&e.query[0].IsFresco,IsIgiene:!!e.query[0].IsIgiene&&e.query[0].IsIgiene,IsExtra:!!e.query[0].IsExtra&&e.query[0].IsExtra})},function(e){t.setState({show:!1})},this.state.ID)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.show?r.a.createElement(oe.a,{show:this.state.show,onHide:this.props.handleClose},r.a.createElement(oe.a.Header,{closeButton:!0},r.a.createElement(oe.a.Title,null,this.state.edit?this.state.create?"Crea Prodotto":"Modifica Prodotto":"Mostra Prodotto")),r.a.createElement(oe.a.Body,null,r.a.createElement("span",{className:"lead"},"Dati del prodotto:"),r.a.createElement(re.a,null,r.a.createElement(E.a,{fluid:!0,mx:"auto"},r.a.createElement(G.a,{mx:"auto"},r.a.createElement(S.a,{md:!0},r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"famdata"},r.a.createElement(re.a.Text,{className:"h6"},"Dati Prodotto:"),r.a.createElement(de.a,{controlId:"floatingName",label:"Nome",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,value:this.state.Nome,onChange:this.handleNameChange})),r.a.createElement(de.a,{controlId:"floatingConfezione",label:"Confezione",className:"mt-1"},r.a.createElement(re.a.Select,{"aria-label":"Dimensione confezione",disabled:!this.state.edit,value:this.state.IDConfezioni,onChange:this.handleConfezioneChange},this.state.query.map(function(e,t){return r.a.createElement("option",{key:t,value:e.ID},e.Confezione)}))))),r.a.createElement(S.a,{md:!0},this.state.create?r.a.createElement(r.a.Fragment,null):r.a.createElement(re.a.Group,{className:"mt-3",controlId:"prodid"},r.a.createElement(re.a.Text,{className:"h6"},"ID Prodotto:"),r.a.createElement(de.a,{controlId:"floatingID",label:"ID",className:"mt-1"},r.a.createElement(re.a.Control,{type:"text",autoComplete:"off",autoCorrect:"off",disabled:!0,value:this.state.ID}))),r.a.createElement(re.a.Group,{className:"mb-3 mt-3",controlId:"faminfo"},r.a.createElement(re.a.Text,{className:"h6"},"Dati aggiuntivi:"),r.a.createElement(re.a.Check,{id:"ismag",label:"A magazzino",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,checked:this.state.IsMagazzino,onChange:this.handleIsMagazzinoChange}),r.a.createElement(re.a.Check,{id:"isfresco",label:"Fresco",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,checked:this.state.IsFresco,onChange:this.handleIsFrescoChange}),r.a.createElement(re.a.Check,{id:"isig",label:"Igiene",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,checked:this.state.IsIgiene,onChange:this.handleIsIgieneChange}),r.a.createElement(re.a.Check,{id:"isextra",label:"Extra",autoComplete:"off",autoCorrect:"off",disabled:!this.state.edit,checked:this.state.IsExtra,onChange:this.handleIsExtraChange}))))))),r.a.createElement(oe.a.Footer,null,r.a.createElement(F.a,{variant:"secondary",onClick:this.props.handleClose},"Chiudi"),this.state.edit?this.state.create?r.a.createElement(F.a,{variant:"primary",onClick:this.handleCreate},"Salva prodotto"):r.a.createElement(F.a,{variant:"primary",onClick:this.handleEdit},"Salva modifiche"):r.a.createElement(r.a.Fragment,null))):r.a.createElement(E.a,null,r.a.createElement("span",null,"Errore caricamento dati")))}}]),t}(n.Component),Ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={body:r.a.createElement(r.a.Fragment,null),modal:r.a.createElement(r.a.Fragment,null),key:""},a.resetModal=function(){a.setState({modal:r.a.createElement(r.a.Fragment,null)})},a.handleEdit=function(e,t,n,o){e.preventDefault(),a.setState({modal:r.a.createElement(qe,{ID:t,handleClose:a.resetModal,edit:!0,success_handler:function(e){return Be(n,function(e){console.log(e)},o)},error_handler:a.errorReloadMag})})},a.handleShow=function(e,t){e.preventDefault(),a.setState({modal:r.a.createElement(qe,{ID:t,handleClose:a.resetModal,edit:!1,success_handler:function(e){return Be(a.renderProds,function(e){console.log(e)},"all")},error_handler:a.errorReloadMag})})},a.handleCreate=function(e){e.preventDefault(),a.setState({modal:r.a.createElement(qe,{handleClose:a.resetModal,edit:!0,create:!0,success_handler:function(e){return Be(a.renderProds,function(e){console.log(e)},"all")},error_handler:a.errorReloadMag})})},a.handleDelete=function(e,t){e.preventDefault(),a.setState({modal:Ie("Eliminare Prodotto","Vuoi davvero eliminare questo prodotto?",function(){var e,n,r;e=function(){a.componentDidMount()},n=function(){a.setState({modal:De("Errore eliminazione","Non \xe8 stato possibile eliminare il prodotto.",a.resetModal)})},r={id_prod:t},K(Object(ne.a)({},{method:"delete",k:"del/"+r.id_prod}),function(t){e(t)},function(e){n(e)})},function(){},a.resetModal)})},a.renderMag=function(e){var t,n,o,l;a.setState({body:(t=a.handleShow,n=function(e,t){return a.handleEdit(e,t,a.renderMag,"all")},o=a.handleDelete,l=e.query,r.a.createElement(ue,{query:l,searchText:"Esegui ricerca: (Nome prodotto)",handleShow:t,handleEdit:n,handleDelete:o,heads:{Nome:"Nome Prodotto",Totale:"Quantit\xe0 Magazzino"},handleParam:"IDProdotto",datafilter:function(e,t){return e.Nome.toLocaleLowerCase().includes(t)}}))})},a.renderProds=function(e){var t,n,o,l;a.setState({body:(t=a.handleShow,n=function(e,t){return a.handleEdit(e,t,a.renderProds,"all")},o=a.handleDelete,l=e.query,r.a.createElement(ue,{query:l,searchText:"Esegui ricerca: (Nome prodotto, Igiene, Fresco, Extra, A magazzino)",handleShow:t,handleEdit:n,handleDelete:o,dataFormatter:function(e,t){return"IsMagazzino"===e||"IsIgiene"===e||"IsExtra"===e||"IsFresco"===e?"0"===t?"No":"S\xec":t},heads:{Nome:"Nome Prodotto",IsMagazzino:"A Magazzino",IsIgiene:"Igiene",IsFresco:"Fresco",IsExtra:"Extra"},handleParam:"ID",datafilter:function(e,t){return e.Nome.toLocaleLowerCase().includes(t)||"extra"===(""+t).toLowerCase()&&"1"===e.IsExtra||"igiene"===(""+t).toLowerCase()&&"1"===e.IsIgiene}}))})},a.errorReloadMag=function(e){a.setState({modal:De("Errore ricezione dati","Non \xe8 stato possibile leggere il magazzino.",a.resetModal)})},a.handleIdChange=function(e){e.preventDefault(),""!==e.target.value?je(a.renderMag,a.errorReloadMag,e.target.value):je(a.renderMag,a.errorReloadMag,"all")},a.state.key=$.DataHandler.dataSettings.light?"#mag/show/":"#fam/show/prods",a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){je(this.renderMag,this.errorReloadMag,"all")}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(C.a,{variant:"pills",bg:"dark",className:"mt-2",activeKey:this.state.key,onSelect:function(t){return e.setState({key:t})}},r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"/"},r.a.createElement("img",{src:xe.a,style:{width:16,height:16},alt:"Indietro"})," Home")),r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"#/mag/add",onClick:this.handleCreate},"Registra prodotto")),$.DataHandler.dataSettings.light?r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Link,{href:"#mag/show/",onClick:function(){return je(e.renderMag,e.errorReloadMag,"all")}},"Prodotti")):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{title:"Mostra Magazzino",id:"nav-dropdown-x"},r.a.createElement(b.a.Item,{href:"#mag/show/all",onClick:function(){return je(e.renderMag,e.errorReloadMag,"all")}},"Tutti"),r.a.createElement(b.a.Item,{href:"#mag/prod/all",onClick:function(){return Be(e.renderProds,e.errorReloadMag,"all")}},"Prodotti"))),r.a.createElement(C.a.Item,{className:"ml-auto text-center"},r.a.createElement(C.a.Link,{href:"#/",onClick:function(){return e.componentDidMount()}},r.a.createElement("img",{src:Me.a,alt:"Ricarica"})," Ricarica"))),r.a.createElement("hr",null),r.a.createElement(E.a,null,this.state.body,this.state.modal)))}}]),t}(n.Component),Re=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=$.DataHandler.dataSettings,a.handleChangeSettingLight=function(e){a.setState({light:!a.state.light})},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0,mx:"auto",my:"auto"},r.a.createElement(G.a,{className:"mt-2 justify-content-center align-items-center"},r.a.createElement(S.a,{md:"auto"},r.a.createElement(re.a,null,r.a.createElement(re.a.Group,{className:"mb-3",controlId:"settingsgroup"},r.a.createElement(re.a.Check,{className:"font-weight-light",type:"switch",label:"Tabelle dati ridotte",checked:"true"===this.state.light||this.state.light,onChange:this.handleChangeSettingLight}),r.a.createElement(F.a,{onClick:function(t){return $.DataHandler.setDataSettings(e.state)}},"Salva tutto"))))))}}]),t}(n.Component);Date.prototype.toDateInputValue=function(){var e=new Date(this);return e.setMinutes(this.getMinutes()-this.getTimezoneOffset()),e.toJSON().slice(0,10)};var He=function(e){function t(e){var a;return Object(s.a)(this,t),t._instance?Object(c.a)(a,t._instance):((a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showLogin:!1,navbar:r.a.createElement(r.a.Fragment,null),body:r.a.createElement(r.a.Fragment,null),footer:r.a.createElement(r.a.Fragment,null),user_page:r.a.createElement(r.a.Fragment,null),modal:r.a.createElement(r.a.Fragment,null)},a.access_app=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{fluid:!0},r.a.createElement(G.a,{className:"text-center"},r.a.createElement(E.a,{fluid:!0},r.a.createElement(S.a,{className:"text-center"},r.a.createElement(G.a,null,r.a.createElement("span",{className:"mt-5"},r.a.createElement(g,{size:64}),r.a.createElement("p",{className:"h1 "},"Database Caritas"))),r.a.createElement(G.a,null,r.a.createElement(S.a,{className:"text-center mt-4"},r.a.createElement(F.a,{type:"submit",variant:"primary",className:"align-self-center",onClick:a.handleOnSubmitAccess}," Avvia App "))))))))},a.handleOnSubmitAccess=function(){$.DataHandler.isLogged(function(){a.setupPage($.DataHandler.access.username),a.setState({showLogin:!1})},function(e){a.setState({showLogin:!0,body:a.generateLoginModule(e.msg)})})},a.setHome=function(){a.setState({body:r.a.createElement(T,null)})},a.setFams=function(){a.setState({body:r.a.createElement(Oe,null)})},a.setMag=function(){a.setState({body:r.a.createElement(Ue,null)})},a.setupPage=function(e){a.setState({navbar:r.a.createElement(y,{username:e,handleUser:function(){se(Object(h.a)(Object(h.a)(a)))},home:a.setHome,fams:a.setFams,mag:a.setMag,handleSettings:function(){return a.setState({body:r.a.createElement(Re,null)})},handleDisconnect:function(){ee(Object(h.a)(Object(h.a)(a)))}}),footer:r.a.createElement(ae,{handleLogout:$.DataHandler.releaseAccess,username:e})}),a.setHome()},t._instance=Object(h.a)(Object(h.a)(a)),a)}return Object(u.a)(t,e),Object(i.a)(t,[{key:"generateLoginModule",value:function(e){var t=this;return r.a.createElement(te,{extraInfo:e,handleSuccess:this.handleOnSubmitAccess,handleCancel:function(){t.setState({showLogin:!1,body:t.access_app()})}})}},{key:"componentDidMount",value:function(){this.setState({body:$.DataHandler.hasLogged(this.handleOnSubmitAccess,this.access_app)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.navbar,r.a.createElement(E.a,{fluid:!0,role:"main",md:"auto"},this.state.body),this.state.modal)}},{key:"register",value:function(e){var t=this;e.preventDefault(),Y()({method:"post",url:"/caritas-api/index.php",headers:{"content-type":"application/json"},data:{k:"register",username:"prova",password:"password",email:"prova@prova.prova"}}).then(function(e){console.log("Response: "+JSON.stringify(e.data))}).catch(function(e){return t.setState({error:e.message})})}}]),t}(n.Component),Le=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(He,null)))}}]),t}(n.Component);a(151);l.a.createRoot(document.getElementById("main")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)))},59:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAO5JREFUSInl1k1Kw0AUAODP7noBXYruPINiq1cQFBE8gnibCqXu7MoLuBR/DqEHUJdKXMdFXskQcKEzQYoDA+G9yfeGgXkJ5cYp7vCMOTZKwQNMUXfme4kiA8wCrHCIdVxH7KokPkpymxF/6gOH48jd5uI1XrGV5MdRtMZJDl7hMZ5fosgowae5+BhD3ETsLcFnsT4LX4whHrRH9mN8BZN4+RP7nfw2PpYS31kafO+v8Mv/g8OF7xvXrowbCkfanXfxtLf8Cof7AM76wGl2XmO1D5y2ScEazpOi2XhaoDsnJXCaX40FWmk+cwclYPgCjbyGSsspeZYAAAAASUVORK5CYII="},66:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAANhJREFUSIntlc8KgkAQxn9Ej+DJXqau/XmEXkIPQXQKeqvShI6+TJIHO1iHZsEk11lRCOqDYVj3m++bWcWFdsyAGMiBh0QORMBUUW/FriLaFNuu4kugBO5AAHiVPQ8IZa8E5l0MztJhYOGEwok0ggntx6GN2IiO1PP0CNNFL3WDT/A7BolE09oJn15W/ZmGA3zREf0NhsNYybvw/oXU104Y/F90k+w7iE8kXzUGqeS1g4HhplaWYMVr1ALYYJ/EF04hNeqr84D7LbbXihssgBOQWUQz4Gjr/AmAQWPJCTq0KAAAAABJRU5ErkJggg=="},79:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACpSURBVEiJ7dQ9C4FRHIbxH4PJYpHtWZSUsjGY2X0Im+9pNFjISMlAFoUB0ykpz/A4Z1Cu7d85XXedl5s/v0IVE1RSyGuY4YYstryOOa4Yx5Y3sMAZo9jyDGucMIgtb2GDI/qx5V3ssUMnhrD0Nq/RxBLbgs4VpmEof9h0LyiHR95iOKIt2l+E5BIu+YBeqpCkzzTw+tGGqUJCVVwkqIpA0rILJK3rP2l5AqGLIG/POiyvAAAAAElFTkSuQmCC"},80:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFLSURBVEiJ7dRNK2ZhGAfwH0V5SWEmWSDZWkwTmZq9jQWfwJ4vIGsslA0li9lrFhaTL2CBjQ2NPLOakoWVRIMa5WVxLjk9jeN+nkez8q/T1an/y33d5zoX7/gP2MIe6qo1GMIqDnGDaxzhG0Zwigf0VWrcju8hLnruoo5VYt6FXyH8g8U4bWcED2MJt7mgmVTzBuyGaB+9/+As429ZJyupAdMhOMbHFzgbuMdvbGIBPSnmdWH8gPFXuE0phuX4FOYnahi7POrL3gejbkfQmwd0RD2rwqtVdq2NRQHnUT9UETCLH5gsItXyDfZCO1pEyk/RRAXmI6E5lzBdU17/D/Joxc/QzKWcpgE7IThAfwG3O8ctoTklgGwXlUJ4Lds7X9CGFtkumseF524HUs2f0IZ12Uoo2qab0q7yRXyWLbdDXOJK1t0avtZi/A7wCA/qXIVsLdk2AAAAAElFTkSuQmCC"},88:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAJpJREFUSIljYCAeqDAwMNyBYhViNTGRYEEoAwODMhSH0sICdhxsqllAFhi1YNQCygELAyRXBjAwMDATUGuNxi4noP4vAwPDBgYGSNb/TyN8iwnKoBlgZIAEUSQDAwM3AbU2DIhgOsrAwHCEgPovDAwMy0lxTAMDwusNxGoa+sl01IJRC1DATxxsqgEVBgaG2wwMDLcYIC0LogAANnkp56M8HqkAAAAASUVORK5CYII="},89:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAACxAAAAsQHGLUmNAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAFJJREFUSInt0jEKwCAMheEfT6d46OJV1HvYJYPUwVJIXd4HWbK8BB7ICxnoQAOSR0ADhk2d9mXaf50reFz8lOyLCsQ/AmWhmm6ppueppluq6Vk3iCNNs4ODCW8AAAAASUVORK5CYII="}},[[113,2,1]]]);
//# sourceMappingURL=main.06bd57fe.chunk.js.map